<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>다중 파일 업로드</title>
</head>
<body>
<h2>파일 업로드</h2>

<form method="post" enctype="multipart/form-data" th:action="@{/upload}">
  <input type="file" name="files" id="filesInput" multiple>
  <button type="submit">업로드</button>
</form>

<div th:if="${messages != null}">
  <h3>결과</h3>
  <ul>
    <li th:each="msg : ${messages}" th:text="${msg}"></li>
  </ul>
</div>

<script>
  window.addEventListener('DOMContentLoaded', function () {
    // 업로드 후 input 초기화
    const fileInput = document.getElementById('filesInput');
    if (fileInput) {
      fileInput.value = ""; // 멀티 업로드라도 value 초기화하면 모두 제거됨
    }
  });
</script>
</body>
</html>
